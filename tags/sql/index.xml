<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>sql on Mohammad Banisaeid</title>
    <link>https://banisaeid.com/tags/sql/</link>
    <description>Recent content in sql on Mohammad Banisaeid</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 03 Apr 2023 18:03:53 +0200</lastBuildDate><atom:link href="https://banisaeid.com/tags/sql/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Highlight SQL strings in Rust</title>
      <link>https://banisaeid.com/posts/rust-highlight-sql/</link>
      <pubDate>Mon, 03 Apr 2023 18:03:53 +0200</pubDate>
      
      <guid>https://banisaeid.com/posts/rust-highlight-sql/</guid>
      <description></description>
      <content:encoded><![CDATA[<p>If you are using Neovim with Treesitter, you can use query injections to highlight SQL in Rust strings.</p>
<p>To do so, create a queries folder in your Neovim runtime path:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">mkdir -p ~/.config/nvim/after/queries/rust
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> ~/.config/nvim/after/queries/rust
</span></span></code></pre></div><p>Then create a file called <code>injections.scm</code> in that folder and paste this content there:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scheme" data-lang="scheme"><span class="line"><span class="cl"><span class="c1">; extends</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">; A general query injection</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Adapted from </span>
</span></span><span class="line"><span class="cl"><span class="c1">;  https://github.com/ray-x/go.nvim/blob/master/after/queries/go/injections.scm</span>
</span></span><span class="line"><span class="cl"><span class="p">([</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nf">string_literal</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nf">raw_string_literal</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">]</span> <span class="nv">@sql</span>
</span></span><span class="line"><span class="cl"> <span class="p">(</span><span class="o">#</span><span class="nv">match?</span> <span class="nv">@sql</span> <span class="s">&#34;(SELECT|select|INSERT|insert|UPDATE|update|DELETE|delete).+(FROM|from|INTO|into|VALUES|values|SET|set).*(WHERE|where|GROUP BY|group by)?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">(</span><span class="o">#</span><span class="nv">offset!</span> <span class="nv">@sql</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">-1</span><span class="p">))</span>
</span></span></code></pre></div><p>Restart your Neovim. After opening Rust files with SQL strings, they will have syntax highlighting.</p>
<p>You can see how it looks like in the screenshot below:
<img loading="lazy" src="/rust-sql-highlight.jpg" type="" alt="Screenshot"  /></p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
